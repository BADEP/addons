<?xml version="1.0" encoding="utf-8"?>
<openerp>
	<data>
		<template id="offer_footer_custom" inherit_id="website.footer_default" name="Footer Offer Link">
			<xpath expr="//div[@id='info']/ul" position="inside">
				<li>
					<a href="/offers">Appels à projets</a>
				</li>
			</xpath>
		</template>
		<template id="index" name="Offers">
			<t t-call="website.layout">
				<div id="wrap">
					<div class="oe_structure">
						<section data-snippet-id="text-block" class="mb16">
							<div class="container">
								<div class="row">
									<div class="col-md-12 text-center mb16" data-snippet-id="colmd">
										<h2>Our Job Offers</h2>
										<h3 class="text-muted">Join us and help disrupt the enterprise market!</h3>
									</div>
									<div class="col-md-12" data-snippet-id="colmd">
										<p>
                                            With a small team of smart people, we released the most
                                            disruptive enterprise management software in the world.
                                            Odoo is fully open source, super easy, full featured
                                            (3000+ apps) and its online offer is 3 times cheaper than
                                            traditional competitors like SAP and Ms Dynamics.
                                        </p>
										<p>
                                            Join us, we offer you an extraordinary chance to learn, to
                                            develop and to be part of an exciting experience and
                                            team.
                                        </p>
									</div>
								</div>
							</div>
						</section>
					</div>
					<t t-if="type">
						<div t-field="type.website_description"/>
					</t>
					<div class="container oe_website_offers">
						<div class="row">
							<div class="hidden" id="offers_grid_left"></div>
							<div class="col-md-12 text-center" id="offers_grid">
								<div t-if="not offers">
									<div class="text-center text-muted">
										<h4 class="css_editable_display">Aucun appel à projets touvé</h4>
										<h4 class="css_editable_hidden">There isn't offer offer published now, click 
											
											
											<a t-attf-href="/page/website.contactus">here</a> to contact us
										
										
										</h4>
										<t groups="base.group_website_publisher">
											<t  groups="base.group_project_manager">
												<p>Click on "Content" to define a new project offer or "Help" for more informations.</p>
												<img src="/website/static/src/img/content_here.png"/>
											</t>
										</t>
									</div>
								</div>
								<ul class="media-list text-center" t-if="offers">
									<li t-foreach="offers" t-as="offer" class="media col-md-6 col-xs-12">
										<div class="media-body" t-att-data-publish="offer.website_published and 'on' or 'off'">
											<h3 class="media-heading">
												<a t-attf-href="/offers/detail/#{ slug(offer) }">
													<span t-field="offer.name"/>
												</a>
											</h3>
											<span t-if="not offer.website_published" class="label label-danger">not published</span>
											<div class="text-muted">
												<i class="fa fa-clock-o"/>
												<span t-field="offer.date_open"/>
											</div>
											<div>
												<span t-field="offer.description"/>
											</div>
										</div>
									</li>
								</ul>
							</div>
						</div>
					</div>
				</div>
			</t>
		</template>
		<template id="detail" name='Detail'>
			<t t-call="website.layout">
				<t t-set="additional_title">Détails de l'appel à projets</t>
				<div id="wrap" >
					<div class="oe_structure"/>
					<section class="container mt8">
						<div class="row">
							<div class="col-sm-5">
								<ol class="breadcrumb mb0">
									<li>
										<br>
											<a href="/offers">Nos appels à projets</a>
										</br>
									</li>
									<li class="active">
										<span t-field="offer.name"></span>
									</li>
								</ol>
							</div>
							<div class="col-sm-7">
								<t t-call="website.publish_management">
									<t t-set="object" t-value="offer"/>
									<t t-set="publish_edit" t-value="True"/></t>
							</div>
						</div>
					</section>
					<div class="oe_structure" style="clear:both;">
						<h1 class="text-center" t-field="offer.name"/>
						<h5 class="text-center text-muted">
							<i class="fa fa-clock-o"/>
							<span t-field="offer.date_open"/>
						</h5>
					</div>
					<div t-field="offer.website_description"/>
					<div class="oe_structure">
						<section data-snippet-id="cta" class="mt16 mb16">
							<div class="container">
								<div class="row">
									<div class="col-md-12 text-center mt16 mb16">
										<a t-attf-href="/offers/apply/#{ offer.id}" class="btn btn-primary btn-lg">Postuler</a>
									</div>
								</div>
							</div>
						</section>
					</div>
				</div>
			</t>
		</template>
		<template id="apply">
			<t t-call="website.layout">
				<t t-set="additional_title" t-value="'Formulaire de soumission: ' + offer.name"/>
				<script src="//code.jquery.com/jquery-3.1.1.min.js"></script>
				<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/select2-bootstrap-theme/0.1.0-beta.10/select2-bootstrap.min.css" />
				<link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.6-rc.0/css/select2.min.css" rel="stylesheet" />
				<script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.6-rc.0/js/select2.min.js"></script>
				<div id="wrap">
					<div class="container">
						<h1 class="text-center">
							<span>Formulaire de soumission: </span>
							<span t-field="offer.name"/>
						</h1>
						<h2 t-if="submission" class="text-center text-muted">
							<span t-field="submission.name"/>
						</h2>
						<t t-call="website_project_submission.form_nav"/>
						<div class="row">
							<section class="col-md-12" id="forms">
								<t t-if="current_stage==0">
									<t t-call="website_project_submission.apply0"/></t>
								<t t-if="current_stage==1">
									<t t-call="website_project_submission.apply1"/></t>
								<t t-if="current_stage==2">
									<t t-call="website_project_submission.apply2"/></t>
								<t t-if="current_stage==3">
									<t t-call="website_project_submission.apply3"/></t>
								<t t-if="current_stage==4">
									<t t-call="website_project_submission.apply4"/></t>
							</section>
						</div>
					</div>
				</div>
				<script>
				    $('.multiple-tags').select2();
				    $('.multiple-tags-free').select2({tags: true, placeholder: "Insérez vos mots-clés"});
				</script>
			</t>	
		</template>
		<!-- Esquisse du projet -->
		<template id="apply0">
			<form class="form-horizontal mt32" t-att-action="'/offers/apply/%s' % slug(offer)" method="post" enctype="multipart/form-data">
				<input type="hidden" name="current_stage" t-att-value="'%s' % current_stage"/>
				<h3 class="text-center text-muted">Esquisse du projet</h3>
				<div t-attf-class="form-group #{error.get('name') and 'has-error' or ''}">
					<label class="col-md-3 col-sm-4 control-label" for="name">Intitulé du projet</label>
					<div class="col-md-7 col-sm-8">
						<input type="text" maxlength="250" t-att-value="default.get('name')" class="form-control" name="name" required="True"/>
					</div>
				</div>
				<div t-attf-class="form-group #{error.get('acronyme') and 'has-error' or ''}">
					<label class="col-md-3 col-sm-4 control-label" for="acronyme">Acronyme</label>
					<div class="col-md-7 col-sm-8">
						<input type="text" maxlength="100" t-att-value="default.get('acronyme')" class="form-control" name="acronyme" required="True"/>
					</div>
				</div>
				<div t-attf-class="form-group #{error.get('field') and 'has-error' or ''}">
					<label class="col-md-3 col-sm-4 control-label" for="field">Thématique</label>
					<div class="col-md-7 col-sm-8">
						<select multiple="multiple" id="field" name="fields" class="form-control multiple-tags" required="True">
							<t t-foreach="fields" t-as="f">
								<option name="fields" t-att-value="f.id" t-att-selected="'selected' if f.id in submission.field.ids else None">
									<t t-esc="f.name"/>
								</option>
							</t>
						</select>
					</div>
				</div>
				<div t-attf-class="form-group #{error.get('duration') and 'has-error' or ''}">
					<label class="col-md-3 col-sm-4 control-label" for="duration">Durée du projet (en semestres)</label>
					<div class="col-md-7 col-sm-8">
						<input type="number" t-att-value="default.get('duration')" t-attf-min="#{offer.min_time}" t-attf-max="#{offer.max_time}" class="form-control" name="duration"/>
					</div>
				</div>
				<div class="form-group">
					<label class="col-md-3 col-sm-4 control-label" for="description">Résumé du projet (1 paragraphe de 600 mots maximum)</label>
					<div class="col-md-7 col-sm-8">
						<textarea maxlength="3600" class="form-control" t-esc="default.get('description')" name="description" style="min-height: 120px"/>
					</div>
				</div>
				<div class="form-group">
					<label class="col-md-3 col-sm-4 control-label" for="tags">Mots-clés</label>
					<div class="col-md-7 col-sm-8">
						<select multiple="multiple" name="tags" class="form-control multiple-tags-free" id="tags">
							<t t-foreach="all_tags" t-as="tag">
								<option t-att-value="tag.id" t-att-selected="'selected' if tag.id in submission.tags.ids else None">
									<t t-esc="tag.name"/>
								</option>
							</t>
						</select>
					</div>
				</div>
				<div class="form-group">
					<label class="col-md-3 col-sm-4 control-label" for="ufile">Présentation (PDF, PowerPoint)</label>
					<div class="col-md-7 col-sm-8">
						<table class="table table-condensed" t-if="submission.documents">
							<tr t-foreach="submission.documents" t-as="doc">
								<td>
									<a class="btn" style="padding: 6px 12px;" t-att-href="'/web/binary/saveas?model=ir.attachment&amp;field=datas&amp;filename_field=name&amp;id=%i' % doc.id">
										<span t-field="doc.name"/>
									</a>
								</td>
								<td class="text-right">
									<a class="btn btn-default" style="padding: 6px 12px;" t-att-href="'/web/binary/saveas?model=ir.attachment&amp;field=datas&amp;filename_field=name&amp;id=%i' % doc.id">
										<i class="fa fa-download"/>
									</a>
									<button class="btn btn-danger" type="submit" name="unlink-doc" t-att-value="doc.id">
										<i class="fa fa-trash"/>
									</button>
								</td>
							</tr>
						</table>
						<input t-if="not submission.documents" accept=".pdf,.ppt,.pptx" class="input-file form-control" id="fileInput" type="file" name="ufile"/>
						<span t-if="error.get('ufile')">Veuillez renvoyer le fichier.</span>
					</div>
				</div>
				<t t-call="website_project_submission.form_header_footer"/>
			</form>
		</template>
		<!-- Coordinateur principal -->
		<template id="apply1">
			<form class="form-horizontal mt32" t-att-action="'/offers/apply/%s' % slug(offer)" method="post" enctype="multipart/form-data">
				<input type="hidden" name="current_stage" t-att-value="'%s' % current_stage"/>
				<h3 class="text-center text-muted">Coordinateur principal</h3>
				<div t-attf-class="form-group #{error.get('name') and 'has-error' or ''}">
					<label class="col-md-3 col-sm-4 control-label" for="name">Nom &amp; Prénom</label>
					<div class="col-md-7 col-sm-8">
						<input type="text" t-att-value="default.get('name')" class="form-control" name="name" required="True"/>
					</div>
				</div>
				<div t-attf-class="form-group #{error.get('organisme') and 'has-error' or ''}">
					<label class="col-md-3 col-sm-4 control-label" for="organisme">Etablissement</label>
					<div class="col-md-7 col-sm-8">
						<input type="text" t-att-value="default.get('organisme')" class="form-control" name="organisme" required="True"/>
					</div>
				</div>
				<div t-attf-class="form-group #{error.get('function') and 'has-error' or ''}">
					<label class="col-md-3 col-sm-4 control-label" for="function">Fonction</label>
					<div class="col-md-7 col-sm-8">
						<input type="text" t-att-value="default.get('function')" class="form-control" name="function" required="True"/>
					</div>
				</div>
				<div t-attf-class="form-group #{error.get('phone') and 'has-error' or ''}">
					<label class="col-md-3 col-sm-4 control-label" for="phone">Téléphone</label>
					<div class="col-md-7 col-sm-8">
						<input type="tel" t-att-value="default.get('phone')" class="form-control" name="phone" required="True"/>
					</div>
				</div>
				<div t-attf-class="form-group #{error.get('mobile') and 'has-error' or ''}">
					<label class="col-md-3 col-sm-4 control-label" for="mobile">Mobile</label>
					<div class="col-md-7 col-sm-8">
						<input type="tel" t-att-value="default.get('mobile')" class="form-control" name="mobile" required="True"/>
					</div>
				</div>
				<div t-attf-class="form-group #{error.get('email') and 'has-error' or ''}">
					<label class="col-md-3 col-sm-4 control-label" for="email">Email</label>
					<div class="col-md-7 col-sm-8">
						<input type="email" t-att-value="default.get('email')" class="form-control" name="email" required="True"/>
					</div>
				</div>
				<div class="form-group">
					<label class="col-md-3 col-sm-4 control-label" for="ufile">CV (PDF, Word)</label>
					<div class="col-md-7 col-sm-8">
						<table class="table table-condensed" t-if="candidate.self_documents">
							<tr t-foreach="candidate.self_documents" t-as="doc">
								<td>
									<a class="btn" style="padding: 6px 12px;" t-att-href="'/web/binary/saveas?model=ir.attachment&amp;field=datas&amp;filename_field=name&amp;id=%i' % doc.id">
										<span t-field="doc.name"/>
									</a>
								</td>
								<td class="text-right">
									<a class="btn btn-default" style="padding: 6px 12px;" t-att-href="'/web/binary/saveas?model=ir.attachment&amp;field=datas&amp;filename_field=name&amp;id=%i' % doc.id">
										<i class="fa fa-download"/>
									</a>
									<button class="btn btn-danger" type="submit" name="unlink-doc" t-att-value="doc.id">
										<i class="fa fa-trash"/>
									</button>
								</td>
							</tr>
						</table>
						<input t-if="not candidate.self_documents" accept=".pdf,.doc,.docx" class="input-file form-control" id="fileInput" type="file" name="ufile"/>
						<span t-if="error.get('ufile')">Veuillez renvoyer le fichier.</span>
					</div>
				</div>
				<t t-call="website_project_submission.form_header_footer"/>
			</form>
		</template>
		<!-- Partenaires -->
		<template id="apply2">
			<form class="form-horizontal mt32" t-att-action="'/offers/apply/%s' % slug(offer)" method="post" enctype="multipart/form-data">
				<input type="hidden" name="current_stage" t-att-value="'%s' % current_stage"/>
				<table class="table">
					<thead>
						<tr>
							<th>Type</th>
							<th>Nom</th>
							<th>Etablissement</th>
							<th>Fonction</th>
							<th>Mobile</th>
							<th>Email</th>
						</tr>
						<tbody>
							<tr t-foreach="submission.partners" t-as="s_partner">
								<td>
									<span t-field="s_partner.category"/>
								</td>
								<td>
									<span t-field="s_partner.name"/>
								</td>
								<td>
									<span t-field="s_partner.parent_id.name"/>
								</td>
								<td>
									<span t-field="s_partner.function"/>
								</td>
								<td>
									<span t-field="s_partner.phone"/>
								</td>
								<td>
									<span t-field="s_partner.mobile"/>
								</td>
								<td>
									<span t-field="s_partner.email"/>
								</td>
								<td>
									<button class="btn btn-info" type="submit" name="edit-partner" t-att-value="s_partner.id">
										<i class="fa fa-pencil"/>
									</button>
									<button class="btn btn-danger" type="submit" name="unlink-partner" t-att-value="s_partner.id">
										<i class="fa fa-trash"/>
									</button>
								</td>
							</tr>
						</tbody>
					</thead>
				</table>
			</form>
			<form class="form-horizontal mt32" t-att-action="'/offers/apply/%s' % slug(offer)" method="post" enctype="multipart/form-data">
				<t t-if="partner_id"><input type="hidden" name="partner_id" t-att-value="'%s' % partner_id"/></t>
				<input type="hidden" name="current_stage" t-att-value="'%s' % current_stage"/>
				<input type="hidden" name="to-save" value="1"/>
				<t t-if="partner"><input type="hidden" name="partner_id" t-att-value="'%s' % partner.id"/></t>
				<h3 class="text-center text-muted">Partenaires</h3>
				<div t-attf-class="form-group #{error.get('category') and 'has-error' or ''}">
					<label class="col-md-3 col-sm-4 control-label" for="category">Type de partenaire</label>
					<div class="col-md-7 col-sm-8">
						<select name="category" id="category" class="form-control" required="True">
							<option value="">Sélectionnez le type...</option>
							<t t-foreach="categories" t-as="c">
								<option t-att-value="c[0]" t-att-selected="c[0] == default.get('category')">
									<t t-esc="c[1]"/>
								</option>
							</t>
						</select>
					</div>
				</div>
				<div class="form-group">
					<label class="col-md-3 col-sm-4 control-label" for="ufile">logo</label>
					<div class="col-md-7 col-sm-8">
						<div t-if="default.get('image')">
							<img class="media-object pull-left" t-att-src="default.get('image')" style="width: 50px; margin-right: 10px;"/>
							<button class="btn btn-danger" type="submit" name="unlink-doc" t-att-value="doc.id">
								<i class="fa fa-trash"/>
							</button>
						</div>
						<input accept="image/*" class="input-file form-control" id="fileInput" type="file" name="ufile"/>
						<span t-if="error.get('ufile')">Veuillez renvoyer le fichier.</span>
					</div>
				</div>
				<div t-attf-class="form-group #{error.get('name') and 'has-error' or ''}">
					<label class="col-md-3 col-sm-4 control-label" for="name">Nom &amp; Prénom</label>
					<div class="col-md-7 col-sm-8">
						<input type="text" t-att-value="default.get('name')" class="form-control" name="name" required="True"/>
					</div>
				</div>
				<div t-attf-class="form-group #{error.get('organisme') and 'has-error' or ''}">
					<label class="col-md-3 col-sm-4 control-label" for="organisme">Etablissement</label>
					<div class="col-md-7 col-sm-8">
						<input type="text" t-att-value="default.get('organisme')" class="form-control" name="organisme" required="True"/>
					</div>
				</div>
				<div t-attf-class="form-group #{error.get('function') and 'has-error' or ''}">
					<label class="col-md-3 col-sm-4 control-label" for="function">Fonction</label>
					<div class="col-md-7 col-sm-8">
						<input type="text" t-att-value="default.get('function')" class="form-control" name="function" required="True"/>
					</div>
				</div>
				<div t-attf-class="form-group #{error.get('phone') and 'has-error' or ''}">
					<label class="col-md-3 col-sm-4 control-label" for="phone">Téléphone</label>
					<div class="col-md-7 col-sm-8">
						<input type="tel" t-att-value="default.get('phone')" class="form-control" name="phone" required="True"/>
					</div>
				</div>
				<div t-attf-class="form-group #{error.get('mobile') and 'has-error' or ''}">
					<label class="col-md-3 col-sm-4 control-label" for="mobile">Mobile</label>
					<div class="col-md-7 col-sm-8">
						<input type="tel" t-att-value="default.get('mobile')" class="form-control" name="mobile" required="True"/>
					</div>
				</div>
				<div t-attf-class="form-group #{error.get('fax') and 'has-error' or ''}">
					<label class="col-md-3 col-sm-4 control-label" for="fax">Fax</label>
					<div class="col-md-7 col-sm-8">
						<input type="tel" t-att-value="default.get('fax')" class="form-control" name="fax" required="True"/>
					</div>
				</div>
				<div t-attf-class="form-group #{error.get('email') and 'has-error' or ''}">
					<label class="col-md-3 col-sm-4 control-label" for="email">Email</label>
					<div class="col-md-7 col-sm-8">
						<input type="email" t-att-value="default.get('email')" class="form-control" name="email" required="True"/>
					</div>
				</div>
				<t t-call="website_project_submission.form_header_footer"/>
			</form>
		</template>
		<!-- Montage financier -->
		<template id="apply3">
			<form class="form-horizontal mt32" t-att-action="'/offers/apply/%s' % slug(offer)" method="post" enctype="multipart/form-data">
				<input type="hidden" name="current_stage" t-att-value="'%s' % current_stage"/>
				<h3 class="text-center text-muted">Montage financier</h3>
				<table class="table">
					<thead>
						<tr>
							<th>Type</th>
							<th class="text-right">Budget</th>
							<th class="text-right">Montant propre</th>
							<th class="text-right">Montant subventionné</th>
							<th class="text-right">Pourcentage subventionné</th>
						</tr>
						<tbody>
							<tr t-foreach="submission.budget_lines" t-as="line">
								<td>
									<span t-field="line.type"/>
								</td>
								<td class="text-right">
									<span>
										<span t-field="line.budget"/> MAD</span>
								</td>
								<td class="text-right">
									<span>
										<span t-field="line.montant_propre"/>&amp;nbsp;MAD</span>
								</td>
								<td class="text-right">
									<span>
										<span t-field="line.montant_subventionne"/>&amp;nbsp;MAD</span>
								</td>
								<td class="text-right">
									<span><strong t-esc="round(line.percent_subventionne, 2)"/>&amp;nbsp;%</span>
								</td>
							</tr>
							<tr>
								<td class="text-right">
									<strong>Total:</strong>
								</td>
								<td class="text-right">
									<strong><span t-field="submission.budget"/>&amp;nbsp;MAD</strong>
								</td>
								<td class="text-right">
									<strong><span t-field="submission.montant_propre"/>&amp;nbsp;MAD</strong>
								</td>
								<td class="text-right">
									<strong><span t-field="submission.montant_subventionne"/>&amp;nbsp;MAD</strong>
								</td>
								<td class="text-right">
									<strong><span t-esc="round(submission.percent_subventionne)"/>&amp;nbsp;%</strong>
								</td>
							</tr>
						</tbody>
					</thead>
				</table>
				<div t-attf-class="form-group #{error.get('type') and 'has-error' or ''}">
					<label class="col-md-3 col-sm-4 control-label" for="type">Rubrique</label>
					<div class="col-md-7 col-sm-8">
						<select name="type" t-att-value="default.get('type')" id="type" class="form-control" required="True">
							<option value="">Sélectionnez le type...</option>
							<t t-foreach="types" t-as="t">
								<option t-att-value="t.id">
									<t t-esc="t.name"/>
								</option>
							</t>
						</select>
					</div>
				</div>
				<div t-attf-class="form-group #{error.get('budget') and 'has-error' or ''}">
					<label class="col-md-3 col-sm-4 control-label" for="budget">Budget (MAD)</label>
					<div class="col-md-7 col-sm-8">
						<input type="number" t-att-value="default.get('budget')" class="form-control" name="budget" required="True"/>
					</div>
				</div>
				<div t-attf-class="form-group #{error.get('montant_propre') and 'has-error' or ''}">
					<label class="col-md-3 col-sm-4 control-label" for="montant_propre">Financement demandé (MAD)</label>
					<div class="col-md-7 col-sm-8">
						<input type="number" t-att-value="default.get('montant_propre')" class="form-control" name="montant_propre" required="True"/>
					</div>
				</div>
				<t t-call="website_project_submission.form_header_footer"/>
			</form>
		</template>
		<!-- Tâches et livrables -->
		<template id="apply4">
			<form class="form-horizontal mt32" t-att-action="'/offers/apply/%s' % slug(offer)" method="post" enctype="multipart/form-data">
				<input type="hidden" name="current_stage" t-att-value="'%s' % current_stage"/>
				<table class="table">
					<thead>
						<tr>
							<th>Type</th>
							<th>Nom</th>
							<th>Partenaires</th>
							<th>Date Debut</th>
							<th>Objectives</th>
							<th>Description</th>
							<th>Lots</th>
						</tr>
						<tbody>
							<tr t-foreach="submission.tasks" t-as="s_task">
								<td>
									<span t-field="s_task.type"/>
								</td>
								<td>
									<span t-field="s_task.name"/>
								</td>
								<td>
									<span t-esc="', '.join(s_task.partners.mapped('name'))"/>
								</td>
								<td>
									<span t-field="s_task.semester"/>
								</td>
								<td>
									<span t-field="s_task.objectives"/>
								</td>
								<td>
									<span t-field="s_task.description"/>
								</td>
								<td>
									<t t-foreach="s_task.lots" t-as="l"><span t-esc="', '.join(s_task.lots.mapped('name'))"/></t>
								</td>
								<td>
									<button class="btn btn-info" type="submit" name="edit-task" t-att-value="s_task.id">
										<i class="fa fa-pencil"/>
									</button>
									<button class="btn btn-danger" type="submit" name="unlink-task" t-att-value="s_task.id">
										<i class="fa fa-trash"/>
									</button>
								</td>
							</tr>
						</tbody>
					</thead>
				</table>
			</form>
			<form class="form-horizontal mt32" t-att-action="'/offers/apply/%s' % slug(offer)" method="post" enctype="multipart/form-data">
				<input type="hidden" name="current_stage" t-att-value="'%s' % current_stage"/>
				<input type="hidden" name="to-save" value="1"/>
				<t t-if="task_id"><input type="hidden" name="task_id" t-att-value="'%s' % task_id"/></t>
				<h3 class="text-center text-muted">Tâches et livrables</h3>
				<div t-attf-class="form-group #{error.get('name') and 'has-error' or ''}">
					<label class="col-md-3 col-sm-4 control-label" for="name">Désignation</label>
					<div class="col-md-7 col-sm-8">
						<input type="text" t-att-value="default.get('name')" class="form-control" name="name" required="True"/>
					</div>
				</div>
				<div t-attf-class="form-group #{error.get('type') and 'has-error' or ''}">
					<label class="col-md-3 col-sm-4 control-label" for="type">Type d'activité</label>
					<div class="col-md-7 col-sm-8">
						<select name="type" id="type" class="form-control" required="True">
							<option value="">Sélectionnez le type...</option>
							<t t-foreach="types" t-as="t">
								<option t-att-value="t.id" t-att-selected="t.id == default.get('type')">
									<t t-esc="t.name"/>
								</option>
							</t>
						</select>
					</div>
				</div>
				<div t-attf-class="form-group #{error.get('semester') and 'has-error' or ''}">
					<label class="col-md-3 col-sm-4 control-label" for="semester">Semestre</label>
					<div class="col-md-7 col-sm-8">
						<input type="number" t-att-value="default.get('semester')" min="1" t-attf-max="#{submission.duration}" class="form-control" name="semester"/>
					</div>
				</div>
				<div t-attf-class="form-group #{error.get('partner') and 'has-error' or ''}">
					<label class="col-md-3 col-sm-4 control-label" for="partner">Responsable du lot</label>
					<div class="col-md-7 col-sm-8">
						<select name="partner" id="partner" class="form-control" required="True">
							<option value="">Sélectionnez le responsable...</option>
							<t t-foreach="submission.partners + submission.partner" t-as="p">
								<option t-att-value="p.id" t-att-selected="p.id == default.get('type')">
									<t t-esc="p.name"/>
								</option>
							</t>
						</select>
					</div>
				</div>
				<div t-attf-class="form-group #{error.get('phone') and 'has-error' or ''}">
					<label class="col-md-3 col-sm-4 control-label" for="phone">date debut</label>
					<div class="col-md-7 col-sm-8">
						<input type="tel" t-att-value="default.get('phone')" class="form-control" name="date_start" required="True"/>
					</div>
				</div>
				<div t-attf-class="form-group #{error.get('mobile') and 'has-error' or ''}">
					<label class="col-md-3 col-sm-4 control-label" for="mobile">date_end</label>
					<div class="col-md-7 col-sm-8">
						<input type="tel" t-att-value="default.get('mobile')" class="form-control" name="date_end" required="True"/>
					</div>
				</div>
				<div t-attf-class="form-group #{error.get('fax') and 'has-error' or ''}">
					<label class="col-md-3 col-sm-4 control-label" for="fax">partner</label>
					<div class="col-md-7 col-sm-8">
						<input type="tel" t-att-value="default.get('fax')" class="form-control" name="partner" required="True"/>
					</div>
				</div>
				<div t-attf-class="form-group #{error.get('email') and 'has-error' or ''}">
					<label class="col-md-3 col-sm-4 control-label" for="email">Description</label>
					<div class="col-md-7 col-sm-8">
						<input type="email" t-att-value="default.get('email')" class="form-control" name="description" required="True"/>
					</div>
				</div>
				<t t-call="website_project_submission.form_header_footer"/>
			</form>
		</template>
		<!-- Récapitulatif final -->
		<template id="thankyou">
			<t t-call="website.layout">
				<div id="wrap">
					<div class="oe_structure">
						<div class="container">
							<h1>Thank you!</h1>
							<p>
                                Your offer application has been successfully registered,
                                we will get back to you soon.
                            </p>
						</div>
						<section data-snippet-id="cta" class="oe_dark">
							<div class="container">
								<div class="row">
									<div class="col-md-12 text-center mt16 mb16">
										<a href="/" class="btn btn-primary btn-lg">Continue To Our Website</a>
									</div>
								</div>
							</div>
						</section>
					</div>
				</div>
			</t>
		</template>
		<template id="offer_types" inherit_id="website_project_submission.index" active="False" customize_show="True" name="Filter by Type">
			<xpath expr="//div[@id='offers_grid_left']" position="inside">
				<ul class="nav nav-pills nav-stacked mb32">
					<li t-att-class=" '' if type else 'active' ">
						<a t-attf-href="/offers">Tous</a>
					</li>
					<t t-foreach="types" t-as="t">
						<li t-att-class="'active' if type and type.id == t.id else ''">
							<a t-attf-href="/offers/type/#{ slug(t) }" >
								<span t-field="t.name"/>
							</a>
						</li>
					</t>
				</ul>
			</xpath>
			<xpath expr="//div[@id='offers_grid_left']" position="attributes">
				<attribute name="class">col-md-3</attribute>
			</xpath>
			<xpath expr="//div[@id='offers_grid']" position="attributes">
				<attribute name="class">col-md-9</attribute>
			</xpath>
		</template>
		<!-- User Navbar -->
		<template id="content_new_offer_offer" inherit_id="website.user_navbar" groups="base.group_user">
			<xpath expr="//ul[@id='oe_systray']/li/ul[@class='dropdown-menu oe_content_menu']" position="inside">
				<li>
					<a href="/offers/add" class="js_link2post">New offer Offer</a>
				</li>
			</xpath>
		</template>
		<template id="form_nav">
			<div class="container">
	            <div class="row bs-wizard" style="border-bottom:0;">
	                <div class="col-xs-2 bs-wizard-step complete">
	                  <div class="text-center bs-wizard-stepnum">Step 0</div>
	                  <div class="progress"><div class="progress-bar"></div></div>
	                  <a t-attf-href="/offers/apply/#{ slug(offer)}/stage/0" class="bs-wizard-dot"></a>
	                  <div class="bs-wizard-info text-center">Lorem ipsum dolor sit amet.</div>
	                </div>
	                <div class="col-xs-2 bs-wizard-step complete">
	                  <div class="text-center bs-wizard-stepnum">Step 1</div>
	                  <div class="progress"><div class="progress-bar"></div></div>
	                  <a t-attf-href="/offers/apply/#{ slug(offer)}/stage/1" class="bs-wizard-dot"></a>
	                  <div class="bs-wizard-info text-center">Lorem ipsum dolor sit amet.</div>
	                </div>
	                
	                <div class="col-xs-2 bs-wizard-step complete"><!-- complete -->
	                  <div class="text-center bs-wizard-stepnum">Step 2</div>
	                  <div class="progress"><div class="progress-bar"></div></div>
	                  <a t-attf-href="/offers/apply/#{ slug(offer)}/stage/2" class="bs-wizard-dot"></a>
	                  <div class="bs-wizard-info text-center">Nam mollis tristique erat vel tristique. Aliquam erat volutpat. Mauris et vestibulum nisi. Duis molestie nisl sed scelerisque vestibulum. Nam placerat tristique placerat</div>
	                </div>
	                
	                <div class="col-xs-2 bs-wizard-step active"><!-- complete -->
	                  <div class="text-center bs-wizard-stepnum">Step 3</div>
	                  <div class="progress"><div class="progress-bar"></div></div>
	                  <a t-attf-href="/offers/apply/#{ slug(offer)}/stage/3" class="bs-wizard-dot"></a>
	                  <div class="bs-wizard-info text-center">Integer semper dolor ac auctor rutrum. Duis porta ipsum vitae mi bibendum bibendum</div>
	                </div>
	                
	                <div class="col-xs-2 bs-wizard-step disabled"><!-- active -->
	                  <div class="text-center bs-wizard-stepnum">Step 4</div>
	                  <div class="progress"><div class="progress-bar"></div></div>
	                  <a t-attf-href="/offers/apply/#{ slug(offer)}/stage/4" class="bs-wizard-dot"></a>
	                  <div class="bs-wizard-info text-center"> Curabitur mollis magna at blandit vestibulum. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae</div>
	                </div>
	                <div class="col-xs-2 bs-wizard-step disabled"><!-- active -->
	                  <div class="text-center bs-wizard-stepnum">Step 5</div>
	                  <div class="progress"><div class="progress-bar"></div></div>
	                  <a t-attf-href="/offers/apply/#{ slug(offer)}/stage/5" class="bs-wizard-dot"></a>
	                  <div class="bs-wizard-info text-center"> Curabitur mollis magna at blandit vestibulum. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae</div>
	                </div>
	            </div>
			</div>
			<style type="text/css">
				.bs-wizard {margin-top: 40px;}
				.bs-wizard {border-bottom: solid 1px #e0e0e0; padding: 0 0 10px 0;}
				.bs-wizard > .bs-wizard-step {padding: 0; position: relative;}
				.bs-wizard > .bs-wizard-step + .bs-wizard-step {}
				.bs-wizard > .bs-wizard-step .bs-wizard-stepnum {color: #595959; font-size: 16px; margin-bottom: 5px;}
				.bs-wizard > .bs-wizard-step .bs-wizard-info {color: #999; font-size: 14px;}
				.bs-wizard > .bs-wizard-step > .bs-wizard-dot {position: absolute; width: 30px; height: 30px; display: block; background: #fbe8aa; top: 45px; left: 50%; margin-top: -15px; margin-left: -15px; border-radius: 50%;} 
				.bs-wizard > .bs-wizard-step > .bs-wizard-dot:after {content: ' '; width: 14px; height: 14px; background: #fbbd19; border-radius: 50px; position: absolute; top: 8px; left: 8px; } 
				.bs-wizard > .bs-wizard-step > .progress {position: relative; border-radius: 0px; height: 8px; box-shadow: none; margin: 20px 0;}
				.bs-wizard > .bs-wizard-step > .progress > .progress-bar {width:0px; box-shadow: none; background: #fbe8aa;}
				.bs-wizard > .bs-wizard-step.complete > .progress > .progress-bar {width:100%;}
				.bs-wizard > .bs-wizard-step.active > .progress > .progress-bar {width:50%;}
				.bs-wizard > .bs-wizard-step:first-child.active > .progress > .progress-bar {width:0%;}
				.bs-wizard > .bs-wizard-step:last-child.active > .progress > .progress-bar {width: 100%;}
				.bs-wizard > .bs-wizard-step.disabled > .bs-wizard-dot {background-color: #f5f5f5;}
				.bs-wizard > .bs-wizard-step.disabled > .bs-wizard-dot:after {opacity: 0;}
				.bs-wizard > .bs-wizard-step:first-child  > .progress {left: 50%; width: 50%;}
				.bs-wizard > .bs-wizard-step:last-child  > .progress {width: 50%;}
				//.bs-wizard > .bs-wizard-step.disabled a.bs-wizard-dot{ pointer-events: none; }
			</style>
		</template>
		<template id="form_header_footer">
			<div class="form-group">
				<div class="col-md-6">
					<button type="submit" t-if="current_stage>0" name="submit" value="prev" class="btn btn-primary">Précédent</button>
				</div>
				<div class="col-md-6 text-right">
					<button type="submit" name="submit" value="save" class="btn btn-primary">Enregistrer</button>
					<button type="submit" name="submit" value="next" class="btn btn-primary">Suivant</button>
				</div>
			</div>
		</template>
	</data>
</openerp>